FROM alpine

RUN apk add --no-cache \
      bash \
      neovim \
      curl \
      nodejs \
      yarn \
      go
RUN \
  mkdir -p ~/.local/share/nvim/site/pack/coc/start \
  && cd ~/.local/share/nvim/site/pack/coc/start \
  && curl -sS --fail -L https://github.com/neoclide/coc.nvim/archive/release.tar.gz|tar xzfv -

RUN nvim -c 'CocInstall -sync coc-go |q' +qall

RUN mkdir -p /root/.config/nvim/undo
ADD init.vim /root/.config/nvim/init.vim

WORKDIR /workdir
